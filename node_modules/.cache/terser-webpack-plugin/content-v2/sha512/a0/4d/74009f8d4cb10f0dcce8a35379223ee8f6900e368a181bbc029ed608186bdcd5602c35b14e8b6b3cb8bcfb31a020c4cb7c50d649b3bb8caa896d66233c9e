{"map":{"version":3,"sources":["static/js/main.ffebae58.chunk.js"],"names":["this","push","114","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","index_cjs","index_cjs_default","auth","a","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","createContext","AuthContext_AuthProvider","_ref","children","_useState","Object","_useState2","loading","setLoading","_useState3","_useState4","user","setUser","history","onAuthStateChanged","value","createElement","Provider","regenerator","regenerator_default","asyncToGenerator","index_modern","axios","axios_default","components_Chats","handleLogout","mark","_callee","wrap","_context","prev","next","signOut","stop","apply","arguments","getFile","_ref2","_callee2","url","response","data","_context2","fetch","sent","blob","abrupt","File","type","_x","get","headers","project-id","user-name","emai","user-secret","uid","then","catch","formdata","FormData","append","email","photoURL","avatar","name","post","private-key","error","console","log","className","onClick","height","projectID","userName","userSecret","GoogleOutlined","FacebookOutlined","components_Login","id","signInWithRedirect","GoogleAuthProvider","components_App","style","fontFamily","path","component","render","StrictMode","document","getElementById","56","exports","61"],"mappings":"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"},"code":"(this[\"webpackJsonpmern-trot-chat\"]=this[\"webpackJsonpmern-trot-chat\"]||[]).push([[0],{114:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),u=(a(61),a(23)),i=a(4),l=a(17),s=a(13),m=a.n(s),p=(a(64),m.a.initializeApp({apiKey:\"AIzaSyAN51_mhYQ-FfaL9NOwjXW8yHYuLuAIm_g\",authDomain:\"trot-f7618.firebaseapp.com\",projectId:\"trot-f7618\",storageBucket:\"trot-f7618.appspot.com\",messagingSenderId:\"247757097092\",appId:\"1:247757097092:web:e6da153016c21fe32c1ad1\",measurementId:\"G-XC9G5WL761\"}).auth()),h=r.a.createContext(),d=function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)(null),m=Object(l.a)(s,2),d=m[0],f=m[1],g=Object(i.f)();Object(n.useEffect)((function(){p.onAuthStateChanged((function(e){if(f(e),u(!1),e)return g.push(\"/chats\")}))}),[d,g]);var b={user:d};return r.a.createElement(h.Provider,{value:b},!o&&t)},f=a(18),g=a.n(f),b=a(33),v=a(54),E=a(3),j=a.n(E),O=function(){var e=Object(i.f)(),t=Object(n.useContext)(h).user,a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],u=c[1],s=function(){var t=Object(b.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.signOut();case 2:e.push(\"/\");case 3:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.blob();case 5:return n=e.sent,e.abrupt(\"return\",new File([n],\"userPhoto.jpg\",{type:\"image/jpeg\"}));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t?j.a.get(\"https://api.chatengine.io/users/me/\",{headers:{\"project-id\":\"669aa04f-be14-47ea-a718-4e84ed674962\",\"user-name\":t.emai,\"user-secret\":t.uid}}).then((function(){u(!1)})).catch((function(){var e=new FormData;e.append(\"email\",t.email),e.append(\"username\",t.email),e.append(\"secret\",t.uid),m(t.photoURL).then((function(t){e.append(\"avatar\",t,t.name),j.a.post(\"https://api.chatengine.io/users/\",e,{headers:{\"private-key\":\"af829525-d90f-4169-b0d4-c9525965e699\"}}).then((function(){return u(!1)})).catch((function(e){console.log(e)}))}))})):e.push(\"/\")}),[t,e]),t&&o?r.a.createElement(\"div\",{className:\"chat-page\"},r.a.createElement(\"div\",{className:\"nav-bar\"},r.a.createElement(\"div\",{className:\"logo-tab\"},\"TrotChat\"),r.a.createElement(\"div\",{onClick:s,className:\"logout-tab\"},\"LogOut\")),r.a.createElement(v.d,{height:\"calc(110vh-66px)\",projectID:\"669aa04f-be14-47ea-a718-4e84ed674962\",userName:t.email,userSecret:t.uid})):\"Loading...\"},w=a(117),k=a(116),y=function(){return r.a.createElement(\"div\",{id:\"login-page\"},r.a.createElement(\"div\",{id:\"login-card\"},r.a.createElement(\"h2\",null,\" Welcome to Trot\"),r.a.createElement(\"div\",{className:\"login-button google\",onClick:function(){return p.signInWithRedirect(new m.a.auth.GoogleAuthProvider)}},r.a.createElement(w.a,null),\"Sign in with Google\"),r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),r.a.createElement(\"div\",{className:\"login-button facebook\",onClick:function(){return p.signInWithRedirect(new m.a.auth.GoogleAuthProvider)}},r.a.createElement(k.a,null),\"Sign in with Facebook\")))};var I=function(){return r.a.createElement(\"div\",{style:{fontFamily:\"Avenir\"}},r.a.createElement(u.a,null,r.a.createElement(d,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:\"/chats\",component:O}),r.a.createElement(i.a,{path:\"/\",component:y})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById(\"root\"))},56:function(e,t,a){e.exports=a(114)},61:function(e,t,a){}},[[56,1,2]]]);","extractedComments":[]}